<div class="well">
  <div class="row">
    <div class="col-md-offset-1">
      <div class="btn-group">
        <button type="button" class="btn btn-default" data-toggle="collapse" data-target="#songSelect"
        (click)="isCollapsed = [false, true, true, true]" [ngClass]="isCollapsed[0] == false ? 'active' : ''">Song Library</button>
        <button type="button" class="btn btn-default" data-toggle="collapse" data-target="#editSong" [disabled]="currentSong == null"
        (click)="isCollapsed = [true, false, true, true]" [ngClass]="isCollapsed[1] == false ? 'active' : ''">Edit Song</button>
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" [ngClass]="isCollapsed[2] == false || isCollapsed[3] == false ? 'active' : ''">
            Add a Song
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li>
              <a href="#" data-toggle="collapse" data-target="#singleUpload"
              (click)="isCollapsed = [true, true, false, true]">Single</a>
            </li>
            <li>
              <a href="#" data-toggle="collapse" data-target="#multipleUpload"
              (click)="isCollapsed = [true, true, true, false]">Multiple</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div id="songSelect" class="collapse" *ngIf="!isCollapsed[0]">
    <br />
    <div *ngIf="hasNoArtistList">
      <div class="row text-list">
        <div class="col-md-3 col-md-offset-1">
          <p>Your library is currently empty.</p>
        </div>
      </div>
    </div>
    <div *ngIf="!hasNoArtistList">
      <div class="row text-list">
        <div class="col-md-3 col-md-offset-1">
          <div class="text-list-title">Artists</div>
          <ul class="hide-bullets">
            <span *ngFor="let artist of artistList">
              <li> <a href="#" [ngClass]="artist == selectedArtist ? 'text-selected' : ''" (click)="getAlbumList(artist)">{{artist}}</a></li>
            </span>
          </ul>
        </div>
        <div class="col-md-3" *ngIf="selectedArtist != null">
          <div class="text-list-title">Albums</div>
          <ul class="hide-bullets">
            <span *ngFor="let album of albumList">
              <li> <a href="#" [ngClass]="album == selectedAlbum ? 'text-selected' : ''" (click)="getSongList(album)">{{album}}</a></li>
            </span>
          </ul>
        </div>
        <div class="col-md-5" *ngIf="selectedAlbum != null" >
          <div class="text-list-title">Songs</div>
          <ul class="hide-bullets">
            <span *ngFor="let songTitle of songTitleList">
              <li> <a href="#" [ngClass]="songTitle == selectedSong ? 'text-selected' : ''" (click)="getSong(songTitle)">{{songTitle}}</a></li>
            </span>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <br />
  <div id="singleUpload" class="collapse" *ngIf="!isCollapsed[2]">
    <div class="extra-padding text-list checkbox-text vcenter">
      <div class="row">
        <div class="col-md-1 col-md-offset-1">
          File:
        </div>
        <div class="col-md-4">
          <input type="file" (change)="addSong($event.target.files)" placeholder="Upload a Song" accept=".mp3">
        </div>
      </div>
      <div *ngIf="newSongFiles != null">
        <div class="row">
          <div class="col-md-1 col-md-offset-1">
            Title:
          </div>
          <div class="col-md-4">
            <input type="text" class="form-control input-lg" [(ngModel)]="newSong.title">
          </div>
        </div>
        <div class="row">
          <div class="col-md-1 col-md-offset-1">
            Artist:
          </div>
          <div class="col-md-4">
            <input type="text" class="form-control input-lg" [(ngModel)]="newSong.artist">
          </div>
        </div>
        <div class="row">
          <div class="col-md-1 col-md-offset-1">
            Album:
          </div>
          <div class="col-md-4">
            <input type="text" class="form-control input-lg" [(ngModel)]="newSong.album">
          </div>
        </div>
        <div class="row">
          <div class="col-md-1 col-md-offset-1">
            Year:
          </div>
          <div class="col-md-4">
            <input type="text" class="form-control input-lg" [(ngModel)]="newSong.year">
          </div>
        </div>
        <div class="row">
          <div class="col-md-1 col-md-offset-1">
            <button class="btn btn-default btn-sm" [disabled]="newSongFiles == null || newSong.title == null
            || newSong.title == '' || newSong.album == null || newSong.album == ''
            || newSong.artist == null || newSong.artist == ''"
            (click)="updateNewSongInfo()">Save</button>
          </div>
          <div class="col-md-1">
            <div class="checkbox">
              <label><input type="checkbox" [(ngModel)]="hasNewSongPlayRequest" [checked]="hasNewSongPlayRequest">Play Song</label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="multipleUpload" class="collapse" *ngIf="!isCollapsed[3]">
    <div class="extra-padding text-list checkbox-text vcenter">
      <div class="row">
        <div class="col-md-1 col-md-offset-1">
          Files:
        </div>
        <div class="col-md-4">
          <input type="file" (change)="addMultipleSongs($event.target.files)" placeholder="Upload Songs" accept=".mp3" multiple>
        </div>
      </div>
    </div>
  </div>
  <div id="editSong" class="collapse" *ngIf="!isCollapsed[1]">
    <br />
    <div class="extra-padding text-list checkbox-text vcenter">
      <div class="row">
        <div class="col-md-1 col-md-offset-1">
          Title:
        </div>
        <div class="col-md-4">
          <input type="text" class="form-control input-lg" [(ngModel)]="currentSong.title">
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-1">
          Artist:
        </div>
        <div class="col-md-4">
          <input type="text" class="form-control input-lg" [(ngModel)]="currentSong.artist">
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-1">
          Album:
        </div>
        <div class="col-md-4">
          <input type="text" class="form-control input-lg" [(ngModel)]="currentSong.album">
        </div>
      </div>
      <div class="row">
        <div class="col-md-1 col-md-offset-1">
          Year:
        </div>
        <div class="col-md-4">
          <input type="text" class="form-control input-lg" [(ngModel)]="currentSong.year">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-2 col-md-offset-1">
        <div class="btn-group">
          <button class="btn btn-default btn-sm" [disabled]="currentSong.title == null
          || currentSong.title == '' || currentSong.album == null || currentSong.album == ''
          || currentSong.artist == null || currentSong.artist == ''"
          (click)="updateCurrentSongInfo()">Save</button>
          <button class="btn btn-default btn-danger btn-sm" (click)="removeSong()">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container" *ngIf="currentSong == null">
  <h2 class="text-center">
    Please select a song above.
  </h2>
</div>
<div class="container" *ngIf="currentSong != null">
  <div class="row">
    <div class="col-md-4">
      <img class="img-responsive img-rounded" [src]="songArtworkSrc">
    </div>
    <div class="col-md-6">
      <table>
        <tr>
          <td>
            <br />
            <div class="btn-group">
              <button class="btn btn-default btn-primary btn-sm" (click)="songPlayback.play()">Play</button>
              <button class="btn btn-default btn-primary btn-sm" (click)="songPlayback.pause()">Pause</button>
            </div>
          </td>
        </tr>
        <tr>
          <td><h2>{{currentSong.title}}</h2></td>
        </tr>
        <tr>
          <td><h4>{{currentSong.artist}}</h4></td>
        </tr>
        <tr>
          <td><h4>{{currentSong.album}}</h4></td>
        </tr>
        <tr>
          <td><h4>{{currentSong.year}}</h4></td>
        </tr>
      </table>
    </div>
  </div>
</div>
<br />
